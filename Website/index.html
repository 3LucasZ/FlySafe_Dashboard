<!DOCTYPE html>
<html>
  <head>
    <title>FlySafe</title>
    <script src="https://unpkg.com/p5ble@0.0.4/dist/p5.ble.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <script src="https://cdn.tailwindcss.com"></script>

    <div class="text-xl text-center font-bold p-5">
      FlySafe Dashboard ✈️
    </div>

    <div
      class="flex flex-row text-xl font-bold p-5"
    >
      <div
        class="rounded shadow-lg bg-sky-300 basis-1/2 p-5"
      >
        <div class="object-top-left font-sans">
          FlySafe Module:
        </div>
        
          <button
            onclick="connectBLE()"
            class="bg-teal-200 p-4 rounded-lg font-bold text-2xl hover:scale-105 transition-all"
          >
            Connect
          </button>
          <button
            onclick="disconnectBLE()"
            class="bg-teal-200 p-4 rounded-lg font-bold text-2xl hover:scale-105 transition-all"
          >
            Disconnect
          </button>
          <button
            onclick="restartESP()"
            class="bg-teal-200 p-4 rounded-lg font-bold text-2xl hover:scale-105 transition-all"
          >
            Restart
          </button>
          <div id="statusDiv" class="p-0">Connected: false</div>
        </div>
      
        <div
          class="rounded shadow-lg bg-sky-300 basis-1/2 p-5"
        >
          <div class="object-top-left font-sans">
            Audio Output:
          </div>
          <form>
            <label
              for="speakerName"
              class="text-xl font-sans"
              >Speaker Device Bluetooth Name</label
            >
            <input
              type="speakerName"
              id="speakerDiv"
              class="bg-teal-200 border border-teal-300 text-teal-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
              placeholder="e.g. Bose AE2 SoundLink"
              required
            />
            <input type="button" value="Connect" onclick="writeSpeaker()" class="bg-teal-200 p-4 rounded-lg font-bold text-2xl hover:scale-105 transition-all">
          </form>
        </div>
      </div>
    </div>
    <div class="h-3"></div>

    <div
      class="flex flex-row text-xl font-bold p-5"
    >
      <div
        class="rounded shadow-lg bg-sky-300 basis-1/2 p-5"
      >
        <div class="object-top-left p-4 text-primary_dark font-sans">
          Relative Altitude:
        </div>
        <div class="p-5 text-7xl text-secondary font-bold">
          <span id="distDiv">DNE</span> <span class="text-2xl"> meters</span>
        </div>
      </div>
      <div class="basis-1/2">
        <canvas id="canvasDiv"></canvas>
      </div>
    </div>

    

    <script src="app.js"></script>
  </body>
</html>
